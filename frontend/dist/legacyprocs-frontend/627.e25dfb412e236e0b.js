"use strict";(self.webpackChunklegacyprocs_frontend=self.webpackChunklegacyprocs_frontend||[]).push([[627],{2627:(X,m,r)=>{r.r(m),r.d(m,{OrdemServicoListComponent:()=>N});var t=r(4438),d=r(177),p=r(9417),h=r(9159),v=r(8834),C=r(9213),x=r(9631),_=r(6467),y=r(6471),O=r(4823),u=r(8300),g=r(1141),b=r(935),f=r(2242),S=r(8542),l=r(8498),k=r(4183),P=r(9197);const E=()=>["/"];function F(n,i){if(1&n&&t.nrm(0,"i"),2&n){const e=t.XpG(2).$implicit;t.HbH("pi pi-"+e.icon)}}function M(n,i){if(1&n&&(t.j41(0,"a",4),t.DNE(1,F,1,2,"i",10),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG().$implicit;t.Y8G("routerLink",e.url),t.R7$(),t.Y8G("ngIf",e.icon),t.R7$(2),t.JRh(e.label)}}function j(n,i){if(1&n&&t.nrm(0,"i"),2&n){const e=t.XpG(2).$implicit;t.HbH("pi pi-"+e.icon)}}function I(n,i){if(1&n&&(t.j41(0,"span",11),t.DNE(1,j,1,2,"i",10),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",e.icon),t.R7$(2),t.JRh(e.label)}}function R(n,i){if(1&n&&(t.j41(0,"li",3),t.nrm(1,"i",7),t.DNE(2,M,4,3,"a",8)(3,I,4,2,"span",9),t.k0s()),2&n){const e=i.$implicit,o=i.last;t.AVh("active",o),t.R7$(2),t.Y8G("ngIf",!o&&e.url),t.R7$(),t.Y8G("ngIf",o)}}function T(n,i){if(1&n&&(t.j41(0,"nav",1)(1,"ol",2)(2,"li",3)(3,"a",4),t.nrm(4,"i",5),t.j41(5,"span"),t.EFF(6,"In\xedcio"),t.k0s()()(),t.DNE(7,R,4,4,"li",6),t.k0s()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("routerLink",t.lJ4(2,E)),t.R7$(4),t.Y8G("ngForOf",e.items)}}let $=(()=>{class n{constructor(){this.items=[]}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-breadcrumb"]],inputs:{items:"items"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","breadcrumb-container",4,"ngIf"],[1,"breadcrumb-container"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"breadcrumb-link",3,"routerLink"],[1,"pi","pi-home"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"pi","pi-angle-right","separator"],["class","breadcrumb-link",3,"routerLink",4,"ngIf"],["class","breadcrumb-current",4,"ngIf"],[3,"class",4,"ngIf"],[1,"breadcrumb-current"]],template:function(o,a){1&o&&t.DNE(0,T,8,3,"nav",0),2&o&&t.Y8G("ngIf",a.items.length>0)},dependencies:[d.MD,d.Sq,d.bT,l.iI,l.Wk],styles:[".breadcrumb-container[_ngcontent-%COMP%]{padding:1rem 2rem;background:linear-gradient(135deg,#667eea08,#764ba208);border-bottom:1px solid #f0f0f0;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.breadcrumb[_ngcontent-%COMP%]{display:flex;align-items:center;list-style:none;padding:0;max-width:1400px;margin:0 auto}.breadcrumb-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem}.separator[_ngcontent-%COMP%]{margin:0 .5rem;color:#9e9e9e;font-size:.75rem}.breadcrumb-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#667eea;text-decoration:none;padding:.25rem .5rem;border-radius:6px;transition:all .2s ease}.breadcrumb-link[_ngcontent-%COMP%]:hover{background-color:#667eea1a;transform:translate(2px)}.breadcrumb-current[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#495057;font-weight:500}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#495057}@media (max-width: 768px){.breadcrumb-container[_ngcontent-%COMP%]{padding:.75rem 1rem}.breadcrumb[_ngcontent-%COMP%]{font-size:.813rem}.breadcrumb-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .breadcrumb-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}"]})}}return n})();var L=r(6356),z=r(500),G=r(5779);const w=()=>({"min-width":"50rem"});function Y(n,i){1&n&&(t.j41(0,"tr")(1,"th",12),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th",13),t.EFF(4,"T\xedtulo"),t.k0s(),t.j41(5,"th",14),t.EFF(6,"Descri\xe7\xe3o"),t.k0s(),t.j41(7,"th",15),t.EFF(8,"Status"),t.k0s(),t.j41(9,"th",16),t.EFF(10,"T\xe9cnico"),t.k0s(),t.j41(11,"th",17),t.EFF(12,"Data"),t.k0s(),t.j41(13,"th",18),t.EFF(14,"A\xe7\xf5es"),t.k0s()())}function D(n,i){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.nrm(8,"p-tag",19),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"date"),t.k0s(),t.j41(14,"td")(15,"p-button",20),t.bIt("onClick",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.onEdit(a))}),t.k0s(),t.j41(16,"p-button",21),t.bIt("onClick",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.onDelete(a))}),t.k0s()()()}if(2&n){const e=i.$implicit,o=t.XpG();t.R7$(2),t.JRh(e.id),t.R7$(2),t.JRh(e.titulo),t.R7$(2),t.JRh(e.descricao),t.R7$(2),t.Y8G("value",e.status)("severity",o.getStatusSeverity(e.status)),t.R7$(2),t.JRh(e.tecnico),t.R7$(2),t.JRh(t.i5U(13,9,e.dataCriacao,"dd/MM/yyyy")),t.R7$(3),t.Y8G("text",!0),t.R7$(),t.Y8G("text",!0)}}function B(n,i){1&n&&(t.j41(0,"tr")(1,"td",22),t.nrm(2,"i",23),t.j41(3,"p",24),t.EFF(4,"Nenhuma ordem de servi\xe7o encontrada"),t.k0s()()())}let N=(()=>{class n{constructor(){this.ordemServicoService=(0,t.WQX)(k.a),this.notificationService=(0,t.WQX)(L.J),this.confirmationService=(0,t.WQX)(z.N),this.router=(0,t.WQX)(l.Ix),this.ordensServico=(0,t.vPA)([]),this.page=(0,t.vPA)(1),this.pageSize=(0,t.vPA)(10),this.totalItems=(0,t.vPA)(0),this.filtro=(0,t.vPA)(""),this.isLoading=(0,t.vPA)(!1),this.breadcrumbs=[{label:"Ordens de Servi\xe7o",icon:"list"}],this.displayedColumns=["id","titulo","descricao","status","tecnico","dataCriacao","acoes"]}ngOnInit(){this.loadOrdens()}loadOrdens(){this.isLoading.set(!0),this.ordemServicoService.getAll(this.page(),this.pageSize(),this.filtro()).subscribe({next:e=>{this.ordensServico.set(e.data),this.totalItems.set(e.totalItems),this.isLoading.set(!1)},error:e=>{this.notificationService.error("Erro ao carregar ordens de servi\xe7o"),this.isLoading.set(!1)}})}onPageChange(e){this.page.set(e),this.loadOrdens()}onPageSizeChange(e){this.pageSize.set(e),this.page.set(1),this.loadOrdens()}onLazyLoad(e){if(void 0!==e.first&&void 0!==e.rows){const o=Math.floor(e.first/e.rows)+1;this.page.set(o),this.pageSize.set(e.rows),this.loadOrdens()}}onSearch(){this.page.set(1),this.loadOrdens()}onDelete(e){this.confirmationService.confirm({title:"Confirmar Exclus\xe3o",message:`Deseja realmente excluir a ordem de servi\xe7o "${e.titulo}"?`,confirmText:"Excluir",cancelText:"Cancelar"}).subscribe(o=>{o&&this.ordemServicoService.delete(e.id).subscribe({next:()=>{this.notificationService.success("Ordem de servi\xe7o exclu\xedda com sucesso"),this.loadOrdens()},error:()=>{this.notificationService.error("Erro ao excluir ordem de servi\xe7o")}})})}onCreate(){this.router.navigate(["/ordem-servico/novo"])}onEdit(e){this.router.navigate(["/ordem-servico/editar",e.id])}getStatusClass(e){switch(e){case"Pendente":return"status-pendente";case"Em Andamento":return"status-andamento";case"Conclu\xedda":return"status-concluida";default:return""}}getStatusSeverity(e){switch(e){case"Pendente":return"warning";case"Em Andamento":default:return"info";case"Conclu\xedda":return"success";case"Cancelada":return"danger"}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-ordem-servico-list"]],standalone:!0,features:[t.aNF],decls:14,vars:10,consts:[[3,"items"],[1,"ordem-servico-list-container"],[1,"header"],["label","Nova Ordem","icon","pi pi-plus",3,"onClick"],[1,"search-bar"],["pInputText","","type","text","placeholder","Buscar por t\xedtulo, descri\xe7\xe3o ou t\xe9cnico...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],["label","Buscar","icon","pi pi-search","severity","secondary",3,"onClick"],["styleClass","p-datatable-gridlines",3,"value","paginator","loading","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pageChange","pageSizeChange","page","pageSize","totalItems"],[2,"width","5%"],[2,"width","20%"],[2,"width","30%"],[2,"width","12%"],[2,"width","15%"],[2,"width","10%"],[2,"width","8%"],[3,"value","severity"],["icon","pi pi-pencil","severity","info","size","small",3,"onClick","text"],["icon","pi pi-trash","severity","danger","size","small",3,"onClick","text"],["colspan","7",2,"text-align","center","padding","2rem"],[1,"pi","pi-inbox",2,"font-size","3rem","color","#9e9e9e"],[2,"margin-top","1rem","color","#757575"]],template:function(o,a){1&o&&(t.nrm(0,"app-breadcrumb",0),t.j41(1,"div",1)(2,"div",2)(3,"h2"),t.EFF(4,"Ordens de Servi\xe7o"),t.k0s(),t.j41(5,"p-button",3),t.bIt("onClick",function(){return a.onCreate()}),t.k0s()(),t.j41(6,"div",4)(7,"input",5),t.mxI("ngModelChange",function(c){return t.DH7(a.filtro,c)||(a.filtro=c),c}),t.bIt("keyup.enter",function(){return a.onSearch()}),t.k0s(),t.j41(8,"p-button",6),t.bIt("onClick",function(){return a.onSearch()}),t.k0s()(),t.j41(9,"p-table",7),t.DNE(10,Y,15,0,"ng-template",8)(11,D,17,12,"ng-template",9)(12,B,5,0,"ng-template",10),t.k0s(),t.j41(13,"app-pagination",11),t.bIt("pageChange",function(c){return a.onPageChange(c)})("pageSizeChange",function(c){return a.onPageSizeChange(c)}),t.k0s()()),2&o&&(t.Y8G("items",a.breadcrumbs),t.R7$(7),t.R50("ngModel",a.filtro),t.R7$(2),t.Y8G("value",a.ordensServico())("paginator",!1)("loading",a.isLoading())("tableStyle",t.lJ4(9,w)),t.R7$(4),t.Y8G("page",a.page())("pageSize",a.pageSize())("totalItems",a.totalItems()))},dependencies:[d.MD,d.vh,p.YN,p.me,p.BC,p.vS,h.tP,v.Hl,C.m_,x.fS,_.RG,y.YN,O.uc,u.bG,u.XI,G.Ei,g.tm,g.$n,b.$,b.v,f.u,f.S,S.S,P.e,$],styles:[".ordem-servico-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #f0f0f0}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600;color:var(--text-primary);letter-spacing:-.5px}.search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;align-items:stretch;padding:1.5rem;background-color:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;transition:all .3s ease}.search-bar[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000000f;transform:translateY(-1px)}.search-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem!important;border:2px solid transparent!important;border-radius:12px!important;font-size:.938rem!important;transition:all .3s ease!important;background:#fff!important}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--accent-primary)!important;box-shadow:0 0 0 3px var(--accent-primary-light)!important}  .p-datatable{font-size:14px;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px #0000000d}  .p-datatable .p-datatable-thead>tr>th{padding:1.25rem 1rem;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;background-color:var(--bg-page)!important;color:var(--text-secondary)!important;border-bottom:2px solid var(--border-color)!important}  .p-datatable .p-datatable-tbody>tr{transition:all .2s ease}  .p-datatable .p-datatable-tbody>tr:hover{background-color:#00000005!important}[data-theme=dark][_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr:hover{background-color:#ffffff0d!important}  .p-datatable .p-datatable-tbody>tr>td{padding:1rem;vertical-align:middle;border-bottom:1px solid #f5f5f5!important}  .p-button.p-button-text{padding:.5rem;min-width:2rem;transition:all .2s ease;border-radius:8px}  .p-button.p-button-text:hover{background-color:var(--accent-primary-light)}  .p-button{border-radius:12px;font-weight:500;padding:.75rem 1.5rem;transition:all .3s ease;box-shadow:0 2px 8px #00000014}  .p-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}  .p-button.p-button-primary{background-color:var(--accent-primary)!important;border:none;color:#fff!important}  .p-button.p-button-primary:hover{background-color:var(--accent-primary-hover)!important}  .p-button.p-button-secondary{background-color:var(--btn-secondary-bg)!important;border:none;color:var(--btn-secondary-text)!important}  .p-button.p-button-secondary:hover{background-color:var(--btn-secondary-hover)!important}  .p-tag{padding:.5rem 1rem;border-radius:20px;font-weight:500;font-size:.813rem;letter-spacing:.3px;box-shadow:0 2px 8px #0000001a;transition:all .2s ease}  .p-tag:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}table[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.status-pendente[_ngcontent-%COMP%]{background-color:#fff3e0!important;color:#e65100!important}.status-andamento[_ngcontent-%COMP%]{background-color:#e3f2fd!important;color:#1565c0!important}.status-concluida[_ngcontent-%COMP%]{background-color:#e8f5e9!important;color:#2e7d32!important}"]})}}return n})()}}]);