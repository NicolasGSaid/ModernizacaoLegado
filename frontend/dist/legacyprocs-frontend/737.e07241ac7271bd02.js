"use strict";(self.webpackChunklegacyprocs_frontend=self.webpackChunklegacyprocs_frontend||[]).push([[737],{8737:(F,l,n)=>{n.r(l),n.d(l,{TecnicoListComponent:()=>k});var t=n(4438),d=n(177),c=n(9417),u=n(8498),f=n(9159),b=n(8834),v=n(9213),C=n(9631),E=n(6467),x=n(6471),m=n(8300),_=n(1141),g=n(2242),h=n(935),P=n(8623),M=n(9197),T=n(6356),O=n(500),y=n(5779);const D=()=>({"min-width":"50rem"});function I(o,p){1&o&&(t.j41(0,"tr")(1,"th",11),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th",12),t.EFF(4,"Nome"),t.k0s(),t.j41(5,"th",12),t.EFF(6,"Email"),t.k0s(),t.j41(7,"th",13),t.EFF(8,"Telefone"),t.k0s(),t.j41(9,"th",14),t.EFF(10,"Especialidade"),t.k0s(),t.j41(11,"th",15),t.EFF(12,"Status"),t.k0s(),t.j41(13,"th",15),t.EFF(14,"Cadastro"),t.k0s(),t.j41(15,"th",15),t.EFF(16,"A\xe7\xf5es"),t.k0s()())}function R(o,p){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.nrm(12,"p-tag",16),t.k0s(),t.j41(13,"td"),t.EFF(14),t.nI1(15,"date"),t.k0s(),t.j41(16,"td")(17,"p-button",17),t.bIt("onClick",function(){const a=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.onEdit(a))}),t.k0s(),t.j41(18,"p-button",18),t.bIt("onClick",function(){const a=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.onDelete(a))}),t.k0s()()()}if(2&o){const e=p.$implicit,i=t.XpG();t.R7$(2),t.JRh(e.id),t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.telefone),t.R7$(2),t.JRh(e.especialidade),t.R7$(2),t.Y8G("value",e.status)("severity",i.getStatusSeverity(e.status)),t.R7$(2),t.JRh(t.i5U(15,10,e.dataCadastro,"dd/MM/yyyy")),t.R7$(3),t.Y8G("text",!0),t.R7$(),t.Y8G("text",!0)}}function L(o,p){1&o&&(t.j41(0,"tr")(1,"td",19),t.nrm(2,"i",20),t.j41(3,"p",21),t.EFF(4,"Nenhum t\xe9cnico encontrado"),t.k0s()()())}let k=(()=>{class o{constructor(){this.tecnicoService=(0,t.WQX)(P.n),this.notificationService=(0,t.WQX)(T.J),this.confirmationService=(0,t.WQX)(O.N),this.router=(0,t.WQX)(u.Ix),this.tecnicos=(0,t.vPA)([]),this.page=(0,t.vPA)(1),this.pageSize=(0,t.vPA)(10),this.totalItems=(0,t.vPA)(0),this.filtro=(0,t.vPA)(""),this.isLoading=(0,t.vPA)(!1),this.displayedColumns=["id","nome","email","telefone","especialidade","status","dataCadastro","acoes"]}ngOnInit(){this.loadTecnicos()}loadTecnicos(){this.isLoading.set(!0),this.tecnicoService.getAll(this.page(),this.pageSize(),this.filtro()).subscribe({next:e=>{this.tecnicos.set(e.data),this.totalItems.set(e.totalItems),this.isLoading.set(!1)},error:()=>{this.notificationService.error("Erro ao carregar t\xe9cnicos"),this.isLoading.set(!1)}})}onPageChange(e){this.page.set(e),this.loadTecnicos()}onPageSizeChange(e){this.pageSize.set(e),this.page.set(1),this.loadTecnicos()}onSearch(){this.page.set(1),this.loadTecnicos()}onEdit(e){this.router.navigate(["/tecnico/edit",e.id])}onDelete(e){this.confirmationService.confirm({title:"Confirmar Exclus\xe3o",message:`Deseja realmente excluir o t\xe9cnico "${e.nome}"?`,confirmText:"Excluir",cancelText:"Cancelar"}).subscribe(i=>{i&&this.tecnicoService.delete(e.id).subscribe({next:()=>{this.notificationService.success("T\xe9cnico exclu\xeddo com sucesso"),this.loadTecnicos()},error:()=>{this.notificationService.error("Erro ao excluir t\xe9cnico")}})})}onCreate(){this.router.navigate(["/tecnico/new"])}getStatusClass(e){return"Ativo"===e?"status-ativo":"status-inativo"}getStatusSeverity(e){return"Ativo"===e?"success":"danger"}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-tecnico-list"]],standalone:!0,features:[t.aNF],decls:13,vars:9,consts:[[1,"tecnico-list-container"],[1,"header"],["label","Novo T\xe9cnico","icon","pi pi-plus",3,"onClick"],[1,"search-bar"],["pInputText","","type","text","placeholder","Buscar por nome, email ou especialidade...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],["label","Buscar","icon","pi pi-search","severity","secondary",3,"onClick"],["styleClass","p-datatable-gridlines",3,"value","paginator","loading","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pageChange","pageSizeChange","page","pageSize","totalItems"],[2,"width","5%"],[2,"width","20%"],[2,"width","12%"],[2,"width","18%"],[2,"width","10%"],[3,"value","severity"],["icon","pi pi-pencil","severity","info","size","small",3,"onClick","text"],["icon","pi pi-trash","severity","danger","size","small",3,"onClick","text"],["colspan","8",2,"text-align","center","padding","2rem"],[1,"pi","pi-inbox",2,"font-size","3rem","color","#9e9e9e"],[2,"margin-top","1rem","color","#757575"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"T\xe9cnicos"),t.k0s(),t.j41(4,"p-button",2),t.bIt("onClick",function(){return a.onCreate()}),t.k0s()(),t.j41(5,"div",3)(6,"input",4),t.mxI("ngModelChange",function(s){return t.DH7(a.filtro,s)||(a.filtro=s),s}),t.bIt("keyup.enter",function(){return a.onSearch()}),t.k0s(),t.j41(7,"p-button",5),t.bIt("onClick",function(){return a.onSearch()}),t.k0s()(),t.j41(8,"p-table",6),t.DNE(9,I,17,0,"ng-template",7)(10,R,19,13,"ng-template",8)(11,L,5,0,"ng-template",9),t.k0s(),t.j41(12,"app-pagination",10),t.bIt("pageChange",function(s){return a.onPageChange(s)})("pageSizeChange",function(s){return a.onPageSizeChange(s)}),t.k0s()()),2&i&&(t.R7$(6),t.R50("ngModel",a.filtro),t.R7$(2),t.Y8G("value",a.tecnicos())("paginator",!1)("loading",a.isLoading())("tableStyle",t.lJ4(8,D)),t.R7$(4),t.Y8G("page",a.page())("pageSize",a.pageSize())("totalItems",a.totalItems()))},dependencies:[d.MD,d.vh,c.YN,c.me,c.BC,c.vS,f.tP,b.Hl,v.m_,C.fS,E.RG,x.YN,m.bG,m.XI,y.Ei,_.tm,_.$n,g.u,g.S,h.$,h.v,M.e],styles:[".tecnico-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #f0f0f0}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600;color:var(--text-primary);letter-spacing:-.5px}.search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;align-items:stretch;padding:1.5rem;background-color:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;transition:all .3s ease}.search-bar[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000000f;transform:translateY(-1px)}.search-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem!important;border:2px solid transparent!important;border-radius:12px!important;font-size:.938rem!important;transition:all .3s ease!important;background:#fff!important}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--accent-primary)!important;box-shadow:0 0 0 3px var(--accent-primary-light)!important}  .p-datatable{font-size:14px;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px #0000000d}  .p-datatable .p-datatable-thead>tr>th{padding:1.25rem 1rem;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;background-color:var(--bg-page)!important;color:var(--text-secondary)!important;border-bottom:2px solid var(--border-color)!important}  .p-datatable .p-datatable-tbody>tr{transition:all .2s ease}  .p-datatable .p-datatable-tbody>tr:hover{background-color:#00000005!important}[data-theme=dark][_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr:hover{background-color:#ffffff0d!important}  .p-datatable .p-datatable-tbody>tr>td{padding:1rem;vertical-align:middle;border-bottom:1px solid #f5f5f5!important}  .p-button.p-button-text{padding:.5rem;min-width:2rem;transition:all .2s ease;border-radius:8px}  .p-button.p-button-text:hover{background-color:var(--accent-primary-light)}  .p-button{border-radius:12px;font-weight:500;padding:.75rem 1.5rem;transition:all .3s ease;box-shadow:0 2px 8px #00000014}  .p-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}  .p-button.p-button-primary{background-color:var(--accent-primary)!important;border:none;color:#fff!important}  .p-button.p-button-primary:hover{background-color:var(--accent-primary-hover)!important}  .p-button.p-button-secondary{background-color:var(--btn-secondary-bg)!important;border:none;color:var(--btn-secondary-text)!important}  .p-button.p-button-secondary:hover{background-color:var(--btn-secondary-hover)!important}  .p-tag{padding:.5rem 1rem;border-radius:20px;font-weight:500;font-size:.813rem;letter-spacing:.3px;box-shadow:0 2px 8px #0000001a;transition:all .2s ease}  .p-tag:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}@media (max-width: 768px){.tecnico-list-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.search-bar[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}  .p-datatable{font-size:12px}  .p-datatable .p-datatable-thead>tr>th{padding:.75rem .5rem;font-size:.75rem}  .p-datatable .p-datatable-tbody>tr>td{padding:.75rem .5rem}}"]})}}return o})()}}]);