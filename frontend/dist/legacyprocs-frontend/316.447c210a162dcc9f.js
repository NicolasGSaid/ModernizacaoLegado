"use strict";(self.webpackChunklegacyprocs_frontend=self.webpackChunklegacyprocs_frontend||[]).push([[316],{4316:(I,c,n)=>{n.r(c),n.d(c,{ClienteListComponent:()=>k});var t=n(4438),g=n(177),l=n(9417),h=n(8498),u=n(9159),C=n(8834),b=n(9213),f=n(9631),E=n(6467),d=n(8300),m=n(1141),_=n(2242),v=n(773),P=n(9197),x=n(6356),M=n(500),O=n(5779);const F=()=>({"min-width":"50rem"});function y(i,p){1&i&&(t.j41(0,"tr")(1,"th",11),t.EFF(2,"ID"),t.k0s(),t.j41(3,"th",12),t.EFF(4,"Raz\xe3o Social"),t.k0s(),t.j41(5,"th",13),t.EFF(6,"Nome Fantasia"),t.k0s(),t.j41(7,"th",14),t.EFF(8,"CNPJ"),t.k0s(),t.j41(9,"th",13),t.EFF(10,"Email"),t.k0s(),t.j41(11,"th",15),t.EFF(12,"Telefone"),t.k0s(),t.j41(13,"th",15),t.EFF(14,"Cidade"),t.k0s(),t.j41(15,"th",11),t.EFF(16,"UF"),t.k0s(),t.j41(17,"th",16),t.EFF(18,"A\xe7\xf5es"),t.k0s()())}function R(i,p){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td")(18,"p-button",17),t.bIt("onClick",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.onEdit(a))}),t.k0s(),t.j41(19,"p-button",18),t.bIt("onClick",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.onDelete(a))}),t.k0s()()()}if(2&i){const e=p.$implicit;t.R7$(2),t.JRh(e.id),t.R7$(2),t.JRh(e.razaoSocial),t.R7$(2),t.JRh(e.nomeFantasia||"-"),t.R7$(2),t.JRh(e.cnpj),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.telefone||"-"),t.R7$(2),t.JRh(e.cidade),t.R7$(2),t.JRh(e.estado),t.R7$(2),t.Y8G("text",!0),t.R7$(),t.Y8G("text",!0)}}function D(i,p){1&i&&(t.j41(0,"tr")(1,"td",19),t.nrm(2,"i",20),t.j41(3,"p",21),t.EFF(4,"Nenhum cliente encontrado"),t.k0s()()())}let k=(()=>{class i{constructor(){this.clienteService=(0,t.WQX)(v.M),this.notificationService=(0,t.WQX)(x.J),this.confirmationService=(0,t.WQX)(M.N),this.router=(0,t.WQX)(h.Ix),this.clientes=(0,t.vPA)([]),this.page=(0,t.vPA)(1),this.pageSize=(0,t.vPA)(10),this.totalItems=(0,t.vPA)(0),this.busca=(0,t.vPA)(""),this.isLoading=(0,t.vPA)(!1),this.displayedColumns=["id","razaoSocial","nomeFantasia","cnpj","email","telefone","cidade","estado","acoes"]}ngOnInit(){this.loadClientes()}loadClientes(){this.isLoading.set(!0),this.clienteService.getAll(this.page(),this.pageSize(),this.busca()).subscribe({next:e=>{this.clientes.set(e.data),this.totalItems.set(e.totalItems),this.isLoading.set(!1)},error:()=>{this.notificationService.error("Erro ao carregar clientes"),this.isLoading.set(!1)}})}onPageChange(e){this.page.set(e),this.loadClientes()}onPageSizeChange(e){this.pageSize.set(e),this.page.set(1),this.loadClientes()}onSearch(){this.page.set(1),this.loadClientes()}onEdit(e){this.router.navigate(["/cliente/edit",e.id])}onDelete(e){this.confirmationService.confirm({title:"Confirmar Exclus\xe3o",message:`Deseja realmente excluir o cliente "${e.razaoSocial}"?`,confirmText:"Excluir",cancelText:"Cancelar"}).subscribe(r=>{r&&this.clienteService.delete(e.id).subscribe({next:()=>{this.notificationService.success("Cliente exclu\xeddo com sucesso"),this.loadClientes()},error:()=>{this.notificationService.error("Erro ao excluir cliente")}})})}onCreate(){this.router.navigate(["/cliente/new"])}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-cliente-list"]],standalone:!0,features:[t.aNF],decls:13,vars:9,consts:[[1,"cliente-list-container"],[1,"header"],["label","Novo Cliente","icon","pi pi-plus",3,"onClick"],[1,"search-bar"],["pInputText","","type","text","placeholder","Buscar por raz\xe3o social, CNPJ ou email...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],["label","Buscar","icon","pi pi-search","severity","secondary",3,"onClick"],["styleClass","p-datatable-gridlines",3,"value","paginator","loading","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pageChange","pageSizeChange","page","pageSize","totalItems"],[2,"width","5%"],[2,"width","20%"],[2,"width","15%"],[2,"width","12%"],[2,"width","10%"],[2,"width","8%"],["icon","pi pi-pencil","severity","info","size","small",3,"onClick","text"],["icon","pi pi-trash","severity","danger","size","small",3,"onClick","text"],["colspan","9",2,"text-align","center","padding","2rem"],[1,"pi","pi-inbox",2,"font-size","3rem","color","#9e9e9e"],[2,"margin-top","1rem","color","#757575"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"Clientes"),t.k0s(),t.j41(4,"p-button",2),t.bIt("onClick",function(){return a.onCreate()}),t.k0s()(),t.j41(5,"div",3)(6,"input",4),t.mxI("ngModelChange",function(s){return t.DH7(a.busca,s)||(a.busca=s),s}),t.bIt("keyup.enter",function(){return a.onSearch()}),t.k0s(),t.j41(7,"p-button",5),t.bIt("onClick",function(){return a.onSearch()}),t.k0s()(),t.j41(8,"p-table",6),t.DNE(9,y,19,0,"ng-template",7)(10,R,20,10,"ng-template",8)(11,D,5,0,"ng-template",9),t.k0s(),t.j41(12,"app-pagination",10),t.bIt("pageChange",function(s){return a.onPageChange(s)})("pageSizeChange",function(s){return a.onPageSizeChange(s)}),t.k0s()()),2&r&&(t.R7$(6),t.R50("ngModel",a.busca),t.R7$(2),t.Y8G("value",a.clientes())("paginator",!1)("loading",a.isLoading())("tableStyle",t.lJ4(8,F)),t.R7$(4),t.Y8G("page",a.page())("pageSize",a.pageSize())("totalItems",a.totalItems()))},dependencies:[g.MD,l.YN,l.me,l.BC,l.vS,u.tP,C.Hl,b.m_,f.fS,E.RG,d.bG,d.XI,O.Ei,m.tm,m.$n,_.u,_.S,P.e],styles:[".cliente-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #f0f0f0}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600;color:var(--text-primary);letter-spacing:-.5px}.search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;align-items:stretch;padding:1.5rem;background-color:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;transition:all .3s ease}.search-bar[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000000f;transform:translateY(-1px)}.search-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem!important;border:2px solid transparent!important;border-radius:12px!important;font-size:.938rem!important;transition:all .3s ease!important;background:#fff!important}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--accent-primary)!important;box-shadow:0 0 0 3px var(--accent-primary-light)!important}  .p-datatable{font-size:14px;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px #0000000d}  .p-datatable .p-datatable-thead>tr>th{padding:1.25rem 1rem;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;background-color:var(--bg-page)!important;color:var(--text-secondary)!important;border-bottom:2px solid var(--border-color)!important}  .p-datatable .p-datatable-tbody>tr{transition:all .2s ease}  .p-datatable .p-datatable-tbody>tr:hover{background-color:#00000005!important}[data-theme=dark][_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr:hover{background-color:#ffffff0d!important}  .p-datatable .p-datatable-tbody>tr>td{padding:1rem;vertical-align:middle;border-bottom:1px solid #f5f5f5!important}  .p-button.p-button-text{padding:.5rem;min-width:2rem;transition:all .2s ease;border-radius:8px}  .p-button.p-button-text:hover{background-color:var(--accent-primary-light)}  .p-button{border-radius:12px;font-weight:500;padding:.75rem 1.5rem;transition:all .3s ease;box-shadow:0 2px 8px #00000014}  .p-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}  .p-button.p-button-primary{background-color:var(--accent-primary)!important;border:none;color:#fff!important}  .p-button.p-button-primary:hover{background-color:var(--accent-primary-hover)!important}  .p-button.p-button-secondary{background-color:var(--btn-secondary-bg)!important;border:none;color:var(--btn-secondary-text)!important}  .p-button.p-button-secondary:hover{background-color:var(--btn-secondary-hover)!important}@media (max-width: 768px){.cliente-list-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.search-bar[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}  .p-datatable{font-size:12px}  .p-datatable .p-datatable-thead>tr>th{padding:.75rem .5rem;font-size:.75rem}  .p-datatable .p-datatable-tbody>tr>td{padding:.75rem .5rem}}"]})}}return i})()}}]);